# Migration `20210104000650-update-major-model`

This migration has been generated by Mitch Gamburg at 1/3/2021, 7:06:50 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "majors" DROP COLUMN "catalog_year",
DROP COLUMN "name",
DROP COLUMN "requirements",
ADD COLUMN     "year_version" TEXT,
ADD COLUMN     "spec" JSONB NOT NULL,
ALTER COLUMN "plans_of_study" SET NOT NULL
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201202020255-add-subjects-model..20210104000650-update-major-model
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model Course {
   classAttributes String[]         @map(name: "class_attributes")
@@ -55,14 +55,13 @@
   @@id([userId, sectionId])
 }
 model Major {
-  catalogYear  String? @map(name: "catalog_year")
+  yearVersion  String? @map(name: "year_version")
   id           Int     @default(autoincrement()) @id
   majorId      String? @map(name: "major_id")
-  name         String?
-  plansOfStudy Json?   @map(name: "plans_of_study")
-  requirements Json?
+  plansOfStudy Json    @map(name: "plans_of_study")
+  spec         Json
   @@map(name: "majors")
 }
@@ -125,5 +124,5 @@
   abbreviation    String    @id
   description     String
   @@map(name: "subjects")
-}
+}
```


